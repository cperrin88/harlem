{"version":3,"file":"index.1c66dbb4.js","sources":["../../vite/modulepreload-polyfill","../../src/components/core/choice.vue","../../src/utilities/number/scale.ts","../../src/utilities/number/clamp.ts","../../src/utilities/time/get-rotation.ts","../../src/components/clocks/analogue-clock.vue","../../src/components/clocks/digital-clock.vue","../../src/components/core/modal.vue","../../src/utilities/time/get-timezone-label.ts","../../src/stores/app/constants.ts","../../src/stores/app/state.ts","../../../packages/task/dist/esm/index.js","../../../packages/utilities/dist/esm/index.js","../../../core/dist/esm/index.js","../../../extensions/action/dist/esm/index.js","../../../extensions/compose/dist/esm/index.js","../../../extensions/storage/dist/esm/index.js","../../src/stores/app/store.ts","../../src/stores/app/mutations.ts","../../src/stores/app/getters.ts","../../vite/preload-helper","../../src/stores/app/actions.ts","../../src/stores/app/index.ts","../../src/components/modals/add-clock.vue","../../src/utilities/string/is-equal.ts","../../../../../../../../images/logo-192.svg","../../src/app.vue","../../../plugins/devtools/dist/esm/index.js","../../src/index.ts"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","<template>\n    <label class=\"choice\" :class=\"choiceClass\" :for=\"id\">\n        <input class=\"choice__input\"\n            type=\"radio\"\n            name=\"clock-type\"\n            :id=\"id\"\n            :value=\"value\"\n            v-model=\"model\">\n        <slot></slot>\n    </label>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed\n} from 'vue';\n\nconst props = defineProps({\n\n    id: {\n        type: String,\n        default: `choice-${Math.round(Math.random() * 100000)}`\n    },\n\n    modelValue: {\n        type: null\n    },\n\n    value: {\n        type: null\n    }\n\n});\n\nconst emit = defineEmits(['update:modelValue'])\n\nconst model = computed({\n    get: () => props.modelValue,\n    set: value => emit('update:modelValue', value)\n});\n\nconst choiceClass = computed(() => ({\n    'choice--checked': props.modelValue === props.value\n}));\n</script>\n\n<style lang=\"scss\">\n\n    .choice {\n        display: inline-block;\n        padding: 0.75rem 2rem;\n        font-weight: var(--font__weight--semi-bold);\n        text-align: center;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        border-radius: 0.5rem;\n        cursor: pointer;\n        transition: color var(--animation__timing) var(--animation__easing),\n                    background var(--animation__timing) var(--animation__easing);\n\n        &:not(.choice--checked):hover {\n            background-color: var(--foreground__colour--dark);\n        }\n    }\n\n    .choice--checked {\n        color: var(--font__colour--inverse);\n        background-color: var(--colour__primary);\n    }\n\n    .choice__input {\n        display: none;\n    }\n\n</style>","import clamp from './clamp';\n\nexport default function scale(\n    domain: [min: number, max: number],\n    range: [min: number, max: number],\n) {\n    const [\n        domainMin,\n        domainMax,\n    ] = domain;\n\n    const [\n        rangeMin,\n        rangeMax,\n    ] = range;\n\n    const domainLength = domainMax - domainMin;\n    const rangeLength = rangeMax - rangeMin;\n\n    return (value: number, clampValue?: boolean) => {\n        const output = (value - domainMin) * rangeLength / domainLength + rangeMin;\n        return clampValue ? clamp(output, rangeMin, rangeMax) : output;\n    };\n}","export default function clamp(value: number, min: number, max: number): number {\n    return Math.max(min, Math.min(max, value));\n}","import scale from '../number/scale';\n\nconst hourScale = scale([0, 12], [0, 360]);\nconst minSecScale = scale([0, 60], [0, 360]);\nconst relativeMinSecScale = scale([0, 60], [0, 1]);\n\nexport function getHourRotation(hours: number, minutes: number = 0) {\n    return hourScale(hours + relativeMinSecScale(minutes));\n}\n\nexport function getMinuteRotation(minutes: number, seconds: number = 0) {\n    return minSecScale(minutes + relativeMinSecScale(seconds));\n}\n\nexport function getSecondRotation(seconds: number) {\n    return minSecScale(seconds);\n}","<template>\n    <div class=\"analogue-clock\">\n        <div class=\"analogue-clock__face\">\n            <div class=\"analogue-clock__hand analogue-clock__hand--hour\" :style=\"handStyles.hour\"></div>\n            <div class=\"analogue-clock__hand analogue-clock__hand--minute\" :style=\"handStyles.minute\"></div>\n            <div class=\"analogue-clock__hand analogue-clock__hand--second\" :style=\"handStyles.second\"></div>\n            <div class=\"analogue-clock__hand-spindle\"></div>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed,\n} from 'vue';\n\nimport {\n    getHourRotation,\n    getMinuteRotation,\n    getSecondRotation\n} from '../../utilities/time/get-rotation';\n\nconst props = defineProps({\n\n    time: {\n        type: Date,\n        default: () => new Date()\n    },\n\n});\n\nconst handStyles = computed(() => {\n    const hours = props.time.getHours() % 12;\n    const minutes = props.time.getMinutes();\n    const seconds = props.time.getSeconds();\n\n    return {\n        hour: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getHourRotation(hours, minutes)}deg)`\n        },\n        minute: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getMinuteRotation(minutes, seconds)}deg)`\n        },\n        second: {\n            transform: `translateX(var(--clock__hand-offset)) rotate(${getSecondRotation(seconds)}deg)`\n        }\n    };\n});\n</script>\n\n<style lang=\"scss\">\n\n    .analogue-clock {\n        --clock__hand-width: 2px;\n        \n        width: 100%;\n        aspect-ratio: 1 / 1;\n        padding: 0.75rem;\n        background-color: var(--background__colour--inverse);\n        border-radius: 50%;\n    }\n\n    .analogue-clock__face {\n        position: relative;\n        width: 100%;\n        height: 100%;\n        background: transparent url(../../assets/images/clock.svg) no-repeat center;\n    }\n\n    .analogue-clock__hand,\n    .analogue-clock__hand-spindle {\n        position: absolute;\n        left: 50%;\n    }\n\n    .analogue-clock__hand {\n        --clock__hand-offset: calc(var(--clock__hand-width) / -2);\n\n        top: 0;\n        width: var(--clock__hand-width);\n        height: 100%;\n        transform-origin: 50% 50%;\n        transform: translateX(var(--clock__hand-offset));\n\n        &::after {\n            position: absolute;\n            display: block;\n            content: '';\n            top: 15%;\n            left: 0;\n            width: 100%;\n            height: 35%;\n            border-radius: var(--clock__hand-width);\n            background-color: rgb(200, 200, 200);\n        }\n    }\n\n    .analogue-clock__hand-spindle {\n        top: 50%;\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        background-color: var(--colour__primary);\n        transform: translate(-50%, -50%);\n    }\n\n    .analogue-clock__hand--hour {\n        --clock__hand-width: 3px;\n\n        &::after {\n            top: 20%;\n            height: 30%;\n        }\n    }\n\n    .analogue-clock__hand--second {\n        transition: transform 250ms cubic-bezier(0.4, 2.08, 0.55, 0.44);\n\n        &::after {\n            height: 45%;\n            background-color: var(--colour__primary);\n        }\n    }\n\n</style>","<template>\n    <div class=\"digital-clock\">\n        <span class=\"digital-clock__time\">{{ labels.time }}</span><span class=\"digital-clock__phase\">{{ labels.phase }}</span>    \n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport {\n    computed\n} from 'vue';\n\nimport {\n    format,\n} from 'date-fns-tz';\n\nconst props = defineProps({\n\n    time: {\n        type: Date,\n        default: () => new Date()\n    },\n\n    timezone: {\n        type: String\n    }\n\n});\n\nconst labels = computed(() => ({\n    time: format(props.time, 'h:mm', {\n        timeZone: props.timezone\n    }),\n    phase: format(props.time, 'a', {\n        timeZone: props.timezone\n    })\n}));\n</script>\n\n<style lang=\"scss\">\n\n    @font-face {\n        font-family: 'Digital';\n        src: url('../../assets/fonts/digital/digital.ttf') format('truetype');\n    }\n\n    .digital-clock {\n        font-family: 'Digital', 'Open Sans';\n        padding: 1rem;\n        color: rgb(200, 200, 200);\n        background-color: var(--background__colour--inverse);\n        border-radius: 0.5rem;\n    }\n\n    .digital-clock__time {\n        font-size: 2.25em;\n    }\n\n    .digital-clock__phase {\n        margin-left: 0.5em;\n        color: #76D1A7;\n        font-size: 1.25em;\n    }\n\n</style>","<template>\n    <teleport to=\"body\">\n        <transition-group name=\"modal\">\n            <div class=\"modal\" layout=\"row center-center\" v-bind=\"$attrs\" v-if=\"isShowing\">\n                <div class=\"modal__content\" self=\"size-small\">\n                    <div class=\"modal__header\" v-if=\"$slots.header\">\n                        <slot name=\"header\" v-bind=\"{ open, close }\"></slot>\n                    </div>\n                    <div class=\"modal__body\">\n                        <slot v-bind=\"{ open, close }\"></slot>\n                    </div>\n                    <div class=\"modal__footer\" v-if=\"$slots.footer\">\n                        <slot name=\"footer\" v-bind=\"{ open, close }\"></slot>\n                    </div>\n                </div>\n            </div>\n        </transition-group>\n    </teleport>\n</template>\n\n<script lang=\"ts\">\nexport default {\n    inheritAttrs: false\n};\n</script>\n\n<script lang=\"ts\" setup>\nimport {\n    ref,\n} from 'vue';\n\nconst isShowing = ref(false);\n\nconst open = () => isShowing.value = true;\nconst close = () => isShowing.value = false;\n\ndefineExpose({\n    open,\n    close\n});\n</script>\n\n<style lang=\"scss\">\n\n    .modal {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding: 2rem;\n        background-color: var(--background__colour--shade);\n        z-index: 1000;\n    }\n\n    .modal__content {\n        max-height: 100%;\n        display: grid;\n        padding: 1.5rem;\n        grid-template-rows: auto 1fr auto;\n        background-color: var(--background__colour);\n        border-radius: 0.5rem;\n        overflow: hidden;\n    }\n\n    .modal__header {\n        padding: 0 0 1.5rem 0;\n    }\n    \n    .modal__body {\n        overflow-y: auto;\n    }\n    \n    .modal__footer {\n        padding: 1.5rem 0 0 0;\n    }\n\n    .modal-enter-from,\n    .modal-leave-to {\n        opacity: 0;\n\n        & .modal__content {\n            transform: scale(0);\n        }\n    }\n\n    .modal-enter-active,\n    .modal-leave-active {\n        transition: opacity var(--animation__timing) var(--animation__easing);\n\n        & .modal__content {\n            transition: transform var(--animation__timing) var(--animation__easing);\n        }\n    }\n\n</style>","export default function getTimezoneLabel(timezone: string): string {\n    return (timezone.split('/').pop() ?? '')?.replace('_', ' ') ?? timezone;\n}","export const NAME = 'app';\n\nexport const GETTERS = {\n    timezones: 'timezones',\n    clocks: 'clocks',\n};\n\nexport const MUTATIONS = {\n    setTheme: 'set-theme',\n    updateTime: 'update-time',\n    setClockType: 'set-clock-type',\n    addClocks: 'add-clocks',\n    removeClock: 'remove-clock',\n};\n\nexport const ACTIONS = {\n    loadTimezones: 'load-timezones',\n};","import type {\n    State,\n} from './types';\n\nimport {\n    NAME,\n} from './constants';\n\nconst STATE = {\n    version: 1.0,\n    theme: 'light',\n    themes: [\n        {\n            label: 'Light',\n            value: 'light',\n        },\n        {\n            label: 'Dark',\n            value: 'dark',\n        },\n    ],\n    time: new Date(),\n    timezones: [],\n    clockType: 'analogue',\n    clockTypes: [\n        {\n            label: 'Analogue',\n            value: 'analogue',\n        },\n        {\n            label: 'Digital',\n            value: 'digital',\n        },\n    ],\n    clocks: [\n        'Australia/Brisbane',\n        'America/New_York',\n        'Europe/London',\n        'Europe/Paris',\n        'Asia/Tokyo',\n        'Australia/Sydney',\n        'Asia/Hong_Kong',\n        'Asia/Dubai',\n    ],\n} as State;\n\nexport default function getState(): State {\n    const storageKey = `harlem:${NAME}`;\n    const storedValue = localStorage.getItem(storageKey);\n\n    if (!storedValue) {\n        return STATE;\n    }\n\n    try {\n        const storedState = JSON.parse(storedValue) as State;\n\n        if (storedState.version !== STATE.version) {\n            localStorage.removeItem(storageKey);\n            return STATE;\n        }\n\n        return {\n            ...STATE,\n            ...storedState,\n        };\n    } catch {\n        return STATE;\n    }\n}","// src/index.ts\nfunction safeRun(bodyInvokee, finallyInvokee) {\n  return (...args) => {\n    try {\n      return bodyInvokee(...args);\n    } finally {\n      finallyInvokee();\n    }\n  };\n}\nvar Task = class extends Promise {\n  constructor(executor, controller = new AbortController()) {\n    if (controller.signal.aborted) {\n      throw new Error(\"Cannot attach task to an already aborted controller\");\n    }\n    const listeners = new Set();\n    const addListener = (listener) => {\n      listeners.add(listener);\n      controller.signal.addEventListener(\"abort\", listener);\n    };\n    const removeListener = (listener) => {\n      listeners.delete(listener);\n      controller.signal.removeEventListener(\"abort\", listener);\n    };\n    const cleanup = () => {\n      if (listeners.size > 0) {\n        listeners.forEach(removeListener);\n      }\n    };\n    super((_resolve, _reject) => {\n      const resolve = safeRun(_resolve, cleanup);\n      const reject = safeRun(_reject, cleanup);\n      const onAbort = (callback) => {\n        const listener = safeRun(() => callback(this.abortReason), () => removeListener(listener));\n        addListener(listener);\n      };\n      executor(resolve, reject, controller, onAbort);\n    });\n    this.controller = controller;\n  }\n  get signal() {\n    return this.controller.signal;\n  }\n  get hasAborted() {\n    return this.signal.aborted;\n  }\n  abort(reason) {\n    this.abortReason = reason;\n    this.controller.abort();\n    return this;\n  }\n};\nexport {\n  Task as default\n};\n//# sourceMappingURL=index.js.map\n","// src/type/get-type.ts\nfunction getType(input) {\n  return Object.prototype.toString.call(input).slice(8, -1).toLowerCase();\n}\n\n// src/object/clone.ts\nimport {\n  unref\n} from \"vue\";\nfunction cloneIdentity(input) {\n  return input;\n}\nfunction cloneBasic(input) {\n  return new input.constructor(input);\n}\nfunction cloneRegex(input) {\n  const clonedRegex = new RegExp(input.source);\n  clonedRegex.lastIndex = input.lastIndex;\n  return clonedRegex;\n}\nfunction cloneSymbol(input) {\n  return Object(Symbol.prototype.valueOf.call(input));\n}\nfunction cloneObject(input) {\n  const output = {};\n  for (const key in input) {\n    output[key] = clone(input[key]);\n  }\n  return output;\n}\nfunction cloneArray(input) {\n  return input.map(clone);\n}\nfunction cloneSet(input) {\n  const output = new Set();\n  input.forEach((value) => {\n    output.add(clone(value));\n  });\n  return output;\n}\nfunction cloneMap(input) {\n  const output = new Map();\n  input.forEach((value, key) => {\n    output.set(key, clone(value));\n  });\n  return output;\n}\nvar CLONE_MAP = {\n  default: cloneIdentity,\n  null: cloneIdentity,\n  undefined: cloneIdentity,\n  boolean: cloneBasic,\n  number: cloneBasic,\n  string: cloneBasic,\n  error: cloneBasic,\n  date: cloneBasic,\n  regexp: cloneRegex,\n  function: cloneIdentity,\n  symbol: cloneSymbol,\n  array: cloneArray,\n  object: cloneObject,\n  map: cloneMap,\n  set: cloneSet\n};\nfunction clone(value) {\n  const input = unref(value);\n  if (typeof input !== \"object\" || input === null) {\n    return input;\n  }\n  const type = getType(input);\n  const cloner = CLONE_MAP[type] || CLONE_MAP.default;\n  return cloner(input);\n}\n\n// src/object/lock.ts\nfunction lock(input, exclusions) {\n  return new Proxy(input, {\n    get(target, prop) {\n      if (exclusions.includes(prop)) {\n        throw new Error(`Access to property '${prop}' is denied`);\n      }\n      const value = target[prop];\n      if (typeof value === \"function\") {\n        return (...args) => Reflect.apply(value, target, args);\n      }\n      return value;\n    }\n  });\n}\n\n// src/object/overwrite.ts\nfunction overwrite(target, source, ignorePattern) {\n  if (typeof target !== \"object\" || typeof source !== \"object\") {\n    return target;\n  }\n  for (const prop in target) {\n    if (ignorePattern && ignorePattern.test(prop)) {\n      delete source[prop];\n      continue;\n    }\n    delete target[prop];\n  }\n  return Object.assign(target, source);\n}\n\n// src/object/omit.ts\nfunction omit(value, pattern) {\n  const output = {};\n  for (const key in value) {\n    if (!pattern.test(key)) {\n      output[key] = value[key];\n    }\n  }\n  return output;\n}\n\n// src/type/is-array.ts\nfunction isArray(value) {\n  return getType(value) === \"array\";\n}\n\n// src/object/from-path.ts\nfunction fromPath(value, path) {\n  const nodes = isArray(path) ? path : path.split(\"/\");\n  return nodes.reduce((branch, node) => branch == null ? void 0 : branch[node], value);\n}\n\n// src/object/to-path.ts\nfunction toPath(nodes) {\n  return nodes.reduceRight((path, node) => {\n    const nodeStr = node.toString();\n    const segment = isNaN(parseInt(nodeStr, 10)) ? `/${node.toString()}` : `[${node.toString()}]`;\n    return segment + path.toString();\n  }, \"\").toString();\n}\n\n// src/type/is-object.ts\nfunction isObject(value) {\n  return getType(value) === \"object\";\n}\n\n// src/type/is-nil.ts\nfunction isNil(value) {\n  return value == null;\n}\nexport {\n  clone,\n  fromPath,\n  getType,\n  isArray,\n  isNil,\n  isObject,\n  lock,\n  omit,\n  overwrite,\n  toPath\n};\n//# sourceMappingURL=index.js.map\n","var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/event-emitter.ts\nvar EventEmitter = class {\n  constructor() {\n    this.listeners = {};\n  }\n  on(event, handler) {\n    if (!this.listeners[event]) {\n      this.listeners[event] = [];\n    }\n    this.listeners[event].push(handler);\n    return {\n      dispose: () => this.off(event, handler)\n    };\n  }\n  off(event, handler) {\n    const listeners = this.listeners[event];\n    if (!listeners) {\n      return;\n    }\n    this.listeners[event] = listeners.filter((listener) => listener !== handler);\n    if (this.listeners[event].length === 0) {\n      delete this.listeners[event];\n    }\n  }\n  once(event, handler) {\n    const callback = (payload) => {\n      handler(payload);\n      this.off(event, callback);\n    };\n    return this.on(event, callback);\n  }\n  emit(event, payload) {\n    const handlers = this.listeners[event];\n    if (!handlers) {\n      return;\n    }\n    handlers.forEach((handler) => handler(payload));\n  }\n};\nvar event_emitter_default = new EventEmitter();\n\n// src/constants.ts\nimport {\n  clone\n} from \"@harlem/utilities\";\nvar SENDER = \"core\";\nvar EVENTS = {\n  core: {\n    installed: \"core:installed\"\n  },\n  store: {\n    created: \"store:created\",\n    destroyed: \"store:destroyed\"\n  },\n  mutation: {\n    before: \"mutation:before\",\n    after: \"mutation:after\",\n    success: \"mutation:success\",\n    error: \"mutation:error\"\n  },\n  devtools: {\n    update: \"devtools:update\"\n  }\n};\nvar PROVIDERS = {\n  read: (value) => value,\n  write: (value) => value,\n  payload: (value) => clone(value)\n};\nvar INTERNAL = {\n  prefix: \"$harlem:\",\n  pattern: /^\\$harlem:/\n};\n\n// src/store.ts\nimport {\n  reactive,\n  readonly,\n  computed,\n  effectScope\n} from \"vue\";\nfunction localiseHandler(name, handler) {\n  return (payload) => {\n    if (payload && payload.store === name) {\n      handler(payload);\n    }\n  };\n}\nvar Store = class {\n  constructor(name, state, options) {\n    this.options = __spreadProps(__spreadValues({\n      allowOverwrite: true\n    }, options), {\n      providers: __spreadValues(__spreadValues({}, PROVIDERS), options == null ? void 0 : options.providers)\n    });\n    this.name = name;\n    this.registrations = {};\n    this.stack = new Set();\n    this.isSuppressing = false;\n    this.scope = effectScope();\n    this.writeState = reactive(state);\n    this.readState = readonly(this.writeState);\n  }\n  get allowsOverwrite() {\n    return this.options.allowOverwrite;\n  }\n  get providers() {\n    return __spreadValues(__spreadValues({}, PROVIDERS), this.options.providers);\n  }\n  get state() {\n    var _a;\n    return (_a = this.providers.read(this.readState)) != null ? _a : this.readState;\n  }\n  emit(event, sender, data) {\n    if (!this.scope.active || this.isSuppressing) {\n      return;\n    }\n    const payload = {\n      data,\n      sender,\n      store: this.name\n    };\n    event_emitter_default.emit(event, payload);\n  }\n  on(event, handler) {\n    return event_emitter_default.on(event, localiseHandler(this.name, handler));\n  }\n  once(event, handler) {\n    return event_emitter_default.once(event, localiseHandler(this.name, handler));\n  }\n  provider(key, value) {\n    this.options.providers[key] = value;\n  }\n  track(callback) {\n    return this.scope.run(callback);\n  }\n  hasRegistration(group, name) {\n    var _a;\n    return !!((_a = this.registrations[group]) == null ? void 0 : _a.has(name));\n  }\n  getRegistration(group, name) {\n    var _a;\n    return (_a = this.registrations[group]) == null ? void 0 : _a.get(name);\n  }\n  register(group, name, producer, type = \"other\") {\n    if (!(group in this.registrations)) {\n      this.registrations[group] = new Map();\n    }\n    if (!this.allowsOverwrite && this.hasRegistration(group, name)) {\n      throw new Error(`A ${group} named ${name} has already been registered on this store`);\n    }\n    this.registrations[group].set(name, {\n      type,\n      producer\n    });\n  }\n  unregister(group, name) {\n    var _a;\n    (_a = this.registrations[group]) == null ? void 0 : _a.delete(name);\n  }\n  suppress(callback) {\n    this.isSuppressing = true;\n    try {\n      return callback();\n    } finally {\n      this.isSuppressing = false;\n    }\n  }\n  getter(name, getter) {\n    const output = this.track(() => computed(() => getter(this.state)));\n    this.register(\"getters\", name, () => output.value, \"computed\");\n    return output;\n  }\n  mutate(name, sender, mutator, payload) {\n    var _a, _b;\n    if (!this.scope.active) {\n      throw new Error(\"The current store has been destroyed. Mutations can no longer take place.\");\n    }\n    if (this.stack.has(name)) {\n      throw new Error(\"Circular mutation reference detected. Avoid calling mutations inside other mutations to prevent circular references.\");\n    }\n    this.stack.add(name);\n    let result;\n    const emit = (event) => this.emit(event, sender, {\n      mutation: name,\n      payload,\n      result\n    });\n    emit(EVENTS.mutation.before);\n    try {\n      const providedState = (_a = this.providers.write(this.writeState)) != null ? _a : this.writeState;\n      const providedPayload = (_b = this.providers.payload(payload)) != null ? _b : payload;\n      result = mutator(providedState, providedPayload);\n      emit(EVENTS.mutation.success);\n    } catch (error) {\n      emit(EVENTS.mutation.error);\n      throw error;\n    } finally {\n      this.stack.delete(name);\n      emit(EVENTS.mutation.after);\n    }\n    return result;\n  }\n  mutation(name, mutator) {\n    const mutation = (payload) => {\n      return this.mutate(name, SENDER, mutator, payload);\n    };\n    this.register(\"mutations\", name, () => mutation);\n    return mutation;\n  }\n  write(name, sender, mutator, suppress) {\n    const mutation = () => this.mutate(name, sender, mutator, void 0);\n    return (suppress ? () => this.suppress(mutation) : mutation)();\n  }\n  destroy() {\n    this.scope.stop();\n  }\n};\n\n// src/index.ts\nimport {\n  lock\n} from \"@harlem/utilities\";\nvar stores = new Map();\nvar installed = false;\nfunction validateStoreCreation(name) {\n  const store = stores.get(name);\n  if (store && !store.allowsOverwrite) {\n    throw new Error(`A store named ${name} has already been registered.`);\n  }\n}\nfunction emitCreated(store, state) {\n  const created = () => {\n    store.emit(EVENTS.store.created, SENDER, state);\n    store.emit(EVENTS.devtools.update, SENDER, state);\n  };\n  if (installed) {\n    return created();\n  }\n  event_emitter_default.once(EVENTS.core.installed, created);\n}\nfunction getExtendedStore(store, extensions) {\n  return extensions.reduce((output, extension) => {\n    let result = {};\n    try {\n      result = extension(store) || {};\n    } catch (e) {\n      result = {};\n    }\n    return __spreadValues(__spreadValues({}, output), result);\n  }, {});\n}\nfunction installPlugin(plugin, app) {\n  if (!plugin || typeof plugin.install !== \"function\") {\n    return;\n  }\n  const {\n    name,\n    install\n  } = plugin;\n  const lockedStores = lock(stores, [\n    \"set\",\n    \"delete\",\n    \"clear\"\n  ]);\n  try {\n    install(app, event_emitter_default, lockedStores);\n  } catch (error) {\n    console.warn(`Failed to install Harlem plugin: ${name}. Skipping.`);\n  }\n}\nvar on = event_emitter_default.on.bind(event_emitter_default);\nvar once = event_emitter_default.once.bind(event_emitter_default);\nfunction createStore(name, state, options) {\n  const {\n    allowOverwrite,\n    providers,\n    extensions\n  } = __spreadValues({\n    allowOverwrite: true,\n    extensions: [(store2) => ({})]\n  }, options);\n  validateStoreCreation(name);\n  const store = new Store(name, state, {\n    allowOverwrite,\n    providers\n  });\n  const destroy = () => {\n    stores.delete(name);\n    store.destroy();\n    store.emit(EVENTS.store.destroyed, SENDER, state);\n    store.emit(EVENTS.devtools.update, SENDER, state);\n  };\n  const getMutationTrigger = (eventName) => {\n    return (mutationName, handler) => {\n      const mutations = [].concat(mutationName);\n      return store.on(eventName, (event) => {\n        if (event && mutations.includes(event.data.mutation)) {\n          handler(event.data);\n        }\n      });\n    };\n  };\n  const onBeforeMutation = getMutationTrigger(EVENTS.mutation.before);\n  const onAfterMutation = getMutationTrigger(EVENTS.mutation.after);\n  const onMutationSuccess = getMutationTrigger(EVENTS.mutation.success);\n  const onMutationError = getMutationTrigger(EVENTS.mutation.error);\n  const extendedStore = getExtendedStore(store, extensions);\n  stores.set(name, store);\n  emitCreated(store, state);\n  return __spreadValues({\n    destroy,\n    onBeforeMutation,\n    onAfterMutation,\n    onMutationSuccess,\n    onMutationError,\n    state: store.state,\n    getter: store.getter.bind(store),\n    mutation: store.mutation.bind(store),\n    suppress: store.suppress.bind(store),\n    on: store.on.bind(store),\n    once: store.once.bind(store)\n  }, extendedStore);\n}\nvar src_default = {\n  install(app, options) {\n    const {\n      plugins\n    } = __spreadValues({\n      plugins: []\n    }, options);\n    if (plugins) {\n      plugins.forEach((plugin) => installPlugin(plugin, app));\n    }\n    installed = true;\n    event_emitter_default.emit(EVENTS.core.installed);\n  }\n};\nexport {\n  EVENTS,\n  INTERNAL,\n  createStore,\n  src_default as default,\n  on,\n  once\n};\n//# sourceMappingURL=index.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// src/index.ts\nimport Task from \"@harlem/task\";\n\n// src/constants.ts\nimport {\n  INTERNAL\n} from \"@harlem/core\";\nvar SENDER = \"extension:action\";\nvar STATE_PROP = `${INTERNAL.prefix}actions`;\nvar EVENTS = {\n  action: {\n    before: \"action:before\",\n    after: \"action:after\",\n    success: \"action:success\",\n    error: \"action:error\"\n  }\n};\n\n// src/index.ts\nimport {\n  watchEffect\n} from \"vue\";\n\n// src/errors.ts\nvar ActionAbortError = class extends Error {\n  constructor(name, instanceId) {\n    super(`Action ${name} as been cancelled`);\n    this.name = name;\n    this.instanceId = instanceId;\n  }\n};\n\n// src/index.ts\nfunction actionsExtension() {\n  return (store) => {\n    const _store = store;\n    const actionTasks = new Map();\n    _store.write(\"$action-init\", SENDER, (state) => state[STATE_PROP] = {}, true);\n    function setActionState(state, name) {\n      state[STATE_PROP][name] = {\n        runCount: 0,\n        instances: new Map(),\n        errors: new Map()\n      };\n    }\n    function registerAction(name) {\n      _store.register(\"actions\", name, () => () => {\n      });\n      _store.write(\"$action-register\", SENDER, (state) => setActionState(state, name), true);\n      const tasks = new Set();\n      actionTasks.set(name, tasks);\n      return {\n        tasks\n      };\n    }\n    function incrementRunCount(name) {\n      _store.write(\"$action-increment-run-count\", SENDER, (state) => state[STATE_PROP][name].runCount += 1);\n    }\n    function addInstance(name, instanceId, payload) {\n      _store.write(\"$action-add-instance\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.instances.set(instanceId, payload);\n      });\n    }\n    function removeInstance(name, instanceId) {\n      _store.write(\"$action-remove-instance\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.instances.delete(instanceId);\n      });\n    }\n    function addError(name, instanceId, error) {\n      _store.write(\"$action-add-error\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.errors.set(instanceId, error);\n      });\n    }\n    function clearErrors(name) {\n      _store.write(\"$action-clear-errors\", SENDER, (state) => {\n        var _a;\n        return (_a = state[STATE_PROP][name]) == null ? void 0 : _a.errors.clear();\n      });\n    }\n    function action(name, body, options) {\n      const {\n        tasks\n      } = registerAction(name);\n      const {\n        parallel,\n        autoClearErrors\n      } = __spreadValues({\n        parallel: false,\n        autoClearErrors: true\n      }, options);\n      const mutate = (mutator) => _store.write(name, SENDER, mutator);\n      return (payload, controller) => {\n        if (!parallel) {\n          abortAction(name);\n        }\n        if (autoClearErrors) {\n          clearErrors(name);\n        }\n        const task = new Task((resolve, reject, controller2, onAbort) => __async(this, null, function* () {\n          var _a;\n          const id = Symbol(name);\n          const complete = () => (tasks.delete(task), removeInstance(name, id));\n          const fail = () => reject(new ActionAbortError(name, id));\n          let result;\n          const emit = (event) => _store.emit(event, SENDER, {\n            action: name,\n            payload,\n            result\n          });\n          onAbort(() => (complete(), fail()));\n          addInstance(name, id, payload);\n          emit(EVENTS.action.before);\n          try {\n            const providedPayload = (_a = _store.providers.payload(payload)) != null ? _a : payload;\n            result = yield body(providedPayload, mutate, controller2, onAbort);\n            emit(EVENTS.action.success);\n            incrementRunCount(name);\n            resolve(result);\n          } catch (error) {\n            if (error instanceof DOMException) {\n              return fail();\n            }\n            emit(EVENTS.action.error);\n            incrementRunCount(name);\n            addError(name, id, error);\n            reject(error);\n          } finally {\n            emit(EVENTS.action.after);\n            complete();\n          }\n        }), controller);\n        tasks.add(task);\n        return task;\n      };\n    }\n    function getActionTrigger(eventName) {\n      return (actionName, handler) => {\n        const actions = [].concat(actionName);\n        return _store.on(eventName, (event) => {\n          if (event && actions.includes(event.data.action)) {\n            handler(event.data);\n          }\n        });\n      };\n    }\n    function hasActionRun(name) {\n      return _store.state[STATE_PROP][name].runCount > 0;\n    }\n    function isActionRunning(name, predicate) {\n      const {\n        instances\n      } = _store.state[STATE_PROP][name];\n      const payloads = Array.from(instances.values());\n      return instances.size > 0 && (!predicate || payloads.some((payload) => predicate(payload)));\n    }\n    function whenActionIdle(name, predicate, controller) {\n      return new Task((resolve, reject, controller2, onAbort) => {\n        const isComplete = () => !isActionRunning(name, predicate);\n        if (isComplete()) {\n          return resolve();\n        }\n        const unwatch = watchEffect(() => {\n          if (isComplete()) {\n            unwatch();\n            resolve();\n          }\n        });\n        onAbort(() => {\n          unwatch();\n          resolve();\n        });\n      }, controller);\n    }\n    function hasActionFailed(name) {\n      var _a;\n      return ((_a = _store.state[STATE_PROP][name]) == null ? void 0 : _a.errors.size) > 0;\n    }\n    function getActionErrors(name) {\n      var _a;\n      return Array.from((_a = _store.state[STATE_PROP][name]) == null ? void 0 : _a.errors.entries()).map(([id, error]) => ({\n        id,\n        error\n      }));\n    }\n    function resetActionState(name) {\n      const names = [].concat(name || Object.keys(_store.state[STATE_PROP]));\n      _store.write(\"$action-reset-state\", SENDER, (state) => names.forEach((name2) => {\n        if (name2 in state[STATE_PROP]) {\n          setActionState(state, name2);\n        }\n      }));\n    }\n    function abortAction(name) {\n      [].concat(name).forEach((name2) => {\n        const tasks = actionTasks.get(name2);\n        if (tasks && tasks.size > 0) {\n          tasks.forEach((task) => {\n            task.abort();\n            tasks.delete(task);\n          });\n        }\n      });\n    }\n    const onBeforeAction = getActionTrigger(EVENTS.action.before);\n    const onAfterAction = getActionTrigger(EVENTS.action.after);\n    const onActionSuccess = getActionTrigger(EVENTS.action.success);\n    const onActionError = getActionTrigger(EVENTS.action.error);\n    return {\n      action,\n      hasActionRun,\n      isActionRunning,\n      whenActionIdle,\n      hasActionFailed,\n      getActionErrors,\n      resetActionState,\n      abortAction,\n      onBeforeAction,\n      onAfterAction,\n      onActionSuccess,\n      onActionError\n    };\n  };\n}\nexport {\n  ActionAbortError,\n  actionsExtension as default\n};\n//# sourceMappingURL=index.js.map\n","// src/constants.ts\nvar SENDER = \"extension:compose\";\n\n// src/index.ts\nimport {\n  computed\n} from \"vue\";\nimport {\n  fromPath,\n  toPath,\n  isNil\n} from \"@harlem/utilities\";\nfunction traceObjectPath(onAccess) {\n  return new Proxy({}, {\n    get(target, key) {\n      onAccess(key);\n      return traceObjectPath(onAccess);\n    }\n  });\n}\nfunction getTraceObject() {\n  const nodes = new Set();\n  const value = traceObjectPath((key) => nodes.add(key));\n  const getNodes = () => Array.from(nodes);\n  const resetNodes = () => nodes.clear();\n  return {\n    value,\n    getNodes,\n    resetNodes\n  };\n}\nfunction composeExtension() {\n  return (store) => {\n    const {\n      value,\n      getNodes,\n      resetNodes\n    } = getTraceObject();\n    function useState(accessor, mutationName) {\n      accessor(value);\n      const nodes = getNodes();\n      const name = mutationName || `compose:${toPath([\"root\", ...nodes])}`;\n      const key = nodes.pop();\n      const parent = (state) => fromPath(state, nodes);\n      resetNodes();\n      if (isNil(key)) {\n        throw new Error(\"A valid property must be used\");\n      }\n      const getter = () => parent(store.state)[key];\n      const setter = (value2) => store.write(name, SENDER, (state) => {\n        parent(state)[key] = value2;\n      });\n      return [\n        getter,\n        setter\n      ];\n    }\n    function computeState(accessor, mutationName) {\n      const [\n        getter,\n        setter\n      ] = useState(accessor, mutationName);\n      return computed({\n        get: () => getter(),\n        set: (value2) => setter(value2)\n      });\n    }\n    return {\n      useState,\n      computeState\n    };\n  };\n}\nexport {\n  composeExtension as default\n};\n//# sourceMappingURL=index.js.map\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/constants.ts\nvar SENDER = \"extension:storage\";\n\n// src/index.ts\nimport {\n  EVENTS,\n  INTERNAL\n} from \"@harlem/core\";\nimport {\n  omit\n} from \"@harlem/utilities\";\nfunction storageExtension(options) {\n  const {\n    type,\n    prefix,\n    sync,\n    exclude,\n    serialiser,\n    parser\n  } = __spreadValues({\n    type: \"local\",\n    prefix: \"harlem\",\n    sync: true,\n    exclude: [],\n    serialiser: (state) => JSON.stringify(state),\n    parser: (value) => JSON.parse(value)\n  }, options);\n  const storage = type === \"session\" ? sessionStorage : localStorage;\n  return (store) => {\n    const storageKey = prefix ? `${prefix}:${store.name}` : store.name;\n    store.on(EVENTS.mutation.success, (event) => {\n      if (!event || event.data.mutation === \"$storage\" || exclude.includes(event.data.mutation)) {\n        return;\n      }\n      try {\n        const state = omit(store.state, INTERNAL.pattern);\n        storage.setItem(storageKey, serialiser(state));\n      } catch (e) {\n        console.warn(\"Failed to write to storage\");\n      }\n    });\n    function listener({ key, storageArea, newValue }) {\n      if (storageArea === storage && key === storageKey && newValue) {\n        store.write(\"$storage\", SENDER, (state) => Object.assign(state, parser(newValue)));\n      }\n    }\n    function startStorageSync() {\n      window.addEventListener(\"storage\", listener);\n    }\n    function stopStorageSync() {\n      window.removeEventListener(\"storage\", listener);\n    }\n    function clearStorage() {\n      storage.removeItem(storageKey);\n    }\n    store.once(EVENTS.store.destroyed, () => stopStorageSync());\n    if (sync) {\n      startStorageSync();\n    }\n    return {\n      startStorageSync,\n      stopStorageSync,\n      clearStorage\n    };\n  };\n}\nexport {\n  storageExtension as default\n};\n//# sourceMappingURL=index.js.map\n","import getState from './state';\nimport actionExtension from '@harlem/extension-action';\nimport composeExtension from '@harlem/extension-compose';\nimport storageExtension from '@harlem/extension-storage';\n\nimport {\n    NAME,\n    MUTATIONS,\n} from './constants';\n\nimport {\n    createStore,\n} from '@harlem/core';\n\nexport const {\n    state,\n    getter,\n    mutation,\n    action,\n    isActionRunning,\n    computeState,\n} = createStore(NAME, getState(), {\n    extensions: [\n        actionExtension(),\n        composeExtension(),\n        storageExtension({\n            exclude: [\n                MUTATIONS.updateTime,\n            ],\n        }),\n    ],\n});","import {\n    MUTATIONS,\n} from './constants';\n\nimport {\n    mutation,\n} from './store';\n\nimport type {\n    ClockType,\n    Theme,\n} from './types';\n\nexport const setTheme = mutation(MUTATIONS.setTheme, (state, theme: Theme) => state.theme = theme);\nexport const updateTime = mutation(MUTATIONS.updateTime, state => state.time = new Date());\nexport const setClockType = mutation(MUTATIONS.setClockType, (state, type: ClockType) => state.clockType = type);\nexport const addClocks = mutation(MUTATIONS.addClocks, (state, timezones: string | string[]) => state.clocks = state.clocks.concat(timezones));\nexport const removeClock = mutation(MUTATIONS.removeClock, (state, timezone: string) => state.clocks = state.clocks.filter(tz => tz !== timezone));","import {\n    GETTERS,\n} from './constants';\n\nimport {\n    getter,\n} from './store';\n\nimport {\n    utcToZonedTime,\n} from 'date-fns-tz';\n\nexport const timezones = getter(GETTERS.timezones, ({ timezones, clocks }) => {\n    const output = timezones\n        .flatMap(({ utc }) => utc)\n        .filter(timezone => !clocks.includes(timezone))\n        .sort((a, b) => a.localeCompare(b));\n\n    return Array.from(new Set(output));\n});\n\nexport const clocks = getter(GETTERS.clocks, ({ clocks, time }) => {\n    return clocks.map(timezone => ({\n        timezone,\n        time: utcToZonedTime(time, timezone),\n    }));\n});","const scriptRel = 'modulepreload';const seen = {};const base = '/harlem/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","import {\n    ACTIONS,\n} from './constants';\n\nimport {\n    action,\n} from './store';\n\nexport const loadTimezones = action(ACTIONS.loadTimezones, async (_, mutate) => {\n    const {\n        default: timezones,\n    } = await import('../../assets/data/timezones.json');\n\n    mutate(state => state.timezones = timezones);\n});","import {\n    updateTime,\n} from './mutations';\n\nexport {\n    state,\n    isActionRunning,\n    computeState,\n} from './store';\n\nexport * from './getters';\nexport * from './mutations';\nexport * from './actions';\nexport * from './types';\n\nsetInterval(() => updateTime(), 1000);","<template>\n    <modal class=\"add-clock-modal\" ref=\"modal\">\n        <template #header>\n            <h2 class=\"add-clock-modal__title\">Add Clock</h2>\n        </template>\n        <label class=\"form-label\" for=\"\">Timezone</label>\n        <input class=\"add-clock-modal__filter\" v-model=\"model.filter\" type=\"text\" placeholder=\"Search for a timezone...\" autofocus>\n        <select class=\"add-clock-modal__timezones\" v-model=\"model.selection\" multiple=\"true\">\n            <option v-for=\"timezone in filteredTimezones\" :key=\"timezone\" :value=\"timezone\">{{ getTimezoneLabel(timezone) }}</option>\n        </select>\n        <div class=\"add-clock-modal__tip\">\n            <meta-text>\n                <strong>Tip:</strong> select multiple timezones by holding ctrl/cmd when clicking an item\n            </meta-text>\n        </div>\n        <template #footer=\"{ close }\">\n            <div class=\"add-clock-modal__actions\" layout=\"row center-right\">\n                <button class=\"button\" @click=\"close()\">Cancel</button>\n                <button class=\"button button--primary\" :disabled=\"!canComplete\" @click=\"complete()\">Add {{ model.selection.length }} Clocks</button>\n            </div>\n        </template>\n    </modal>\n</template>\n\n<script lang=\"ts\" setup>\nimport Modal from '../core/modal.vue';\nimport MetaText from '../core/meta-text.vue';\n\nimport isEqual from '../../utilities/string/is-equal';\nimport getTimezoneLabel from '../../utilities/time/get-timezone-label';\n\nimport {\n    computed,\n    reactive,\n    ref\n} from 'vue';\n\nimport {\n    addClocks,\n    timezones\n} from '../../stores/app';\n\nconst modal = ref();\n\nconst model = reactive({\n    filter: '',\n    selection: [] as string[]\n});\n\nconst filteredTimezones = computed(() => {\n    return timezones.value.filter(timezone => isEqual(timezone, model.filter));\n});\n\nconst canComplete = computed(() => model.selection.length > 0);\n\nfunction reset() {\n    model.filter = '';\n    model.selection = [];\n}\n\nfunction complete() {\n    if (model.selection.length === 0) {\n        return;\n    }\n\n    addClocks(model.selection);\n\n    modal.value.close();\n}\n\ndefineExpose({\n    open: () => (reset(), modal.value.open()),\n    close: () => modal.value.close(),\n});\n</script>\n\n<style lang=\"scss\">\n\n    .add-clock-modal__title {\n        margin: 0;\n    }\n\n    .add-clock-modal__filter,\n    .add-clock-modal__timezones {\n        display: block;\n        width: 100%;\n    }\n\n    .add-clock-modal__filter {\n        margin-bottom: 1rem;\n    }\n\n    .add-clock-modal__tip {\n        margin: 1rem 0;\n    }\n\n    .add-clock-modal__actions {\n\n        & .button {\n            margin-left: 1rem;\n        }\n    }\n\n</style>","export default function isEqual(a: string, b: string): boolean {\n    return a.toLocaleLowerCase().includes(b.toLocaleLowerCase());\n}","export default \"/harlem/images/logo-192.svg\"","<template>\n    <div class=\"app\">\n        <container>\n            <header class=\"app__header\">\n                <a href=\"https://harlemjs.com\" target=\"_blank\">\n                    <img class=\"app__logo\" src=\"/images/logo-192.svg\" alt=\"Harlem\">\n                </a>\n                <h1 class=\"app__title\">Harlem</h1>\n                <p class=\"app__intro\">\n                    This world clock application is a basic demonstration of some of the core features of Harlem.\n                    <br>\n                    <br>\n                    Each clock is synchronised by a single time value stored on <strong>state</strong>. A timer is set to run a <strong>mutation</strong> each second to update the stored time. A <strong>getter</strong> then recalculates each clock's time based on it's timezone. State is synchronised with localStorage using the <strong>storage extension</strong>. Open this URL in multiple tabs to see your changes synced across tabs.\n                    <br>\n                    <br>\n                    If you have the Vue <strong>devtools</strong> installed, open them up and change the inspector to Harlem to see the store. The source code for this demo is available <a href=\"https://github.com/andrewcourtice/harlem/tree/main/app\" target=\"_blank\">here</a>. \n                </p>\n                <choice-group class=\"app__theme\">\n                    <choice v-for=\"{ label, value } in state.themes\" :key=\"value\" :id=\"value\" :value=\"value\" v-model=\"theme\">{{ label }}</choice>\n                </choice-group>\n            </header>\n            <div class=\"app__options\" layout=\"rows center-justify\">\n                <choice-group self=\"sm-full\">\n                    <choice v-for=\"{ label, value } in state.clockTypes\" :key=\"value\" :id=\"value\" :value=\"value\" v-model=\"clockType\">{{ label }}</choice>\n                </choice-group>\n                <button class=\"button button--primary\" self=\"sm-full\" @click=\"openAddClockModal()\">Add Clock</button>\n            </div>\n            <div class=\"app__clocks\">\n                <transition-group name=\"clocks\">\n                    <div class=\"app__clock\" v-for=\"{ time, timezone } in clocks\" :key=\"timezone\">\n                        <component :is=\"clockComponent\" :time=\"time\"></component>\n                        <div class=\"app__clock-label\">\n                            <div class=\"app__clock-timezone\">{{ getTimezoneLabel(timezone) }}</div>\n                            <div class=\"app__clock-date\">{{ getClockDateLabel(time, timezone) }}</div>\n                        </div>\n                        <div class=\"app__clock-shade\" layout=\"row bottom-stretch\">\n                            <button class=\"button button--alert\" @click=\"removeClock(timezone)\">Remove</button>\n                        </div>\n                    </div>\n                </transition-group>\n            </div>\n            <footer class=\"app__footer\">\n                <meta-text>MIT Licensed | Copyright  2020-present Andrew Courtice</meta-text>\n            </footer>\n        </container>\n        <add-clock-modal ref=\"addClockModal\"></add-clock-modal>\n    </div>\n</template>\n\n<script lang=\"ts\" setup>\nimport Container from './components/core/container.vue';\nimport ChoiceGroup from './components/core/choice-group.vue';\nimport Choice from './components/core/choice.vue';\nimport MetaText from './components/core/meta-text.vue';\nimport AnalogueClock from './components/clocks/analogue-clock.vue';\nimport DigitalClock from './components/clocks/digital-clock.vue';\nimport AddClockModal from './components/modals/add-clock.vue'\n\nimport getTimezoneLabel from './utilities/time/get-timezone-label';\n\nimport {\n    computed,\n    ref,\n    watchEffect,\n} from 'vue';\n\nimport {\n    format,\n} from 'date-fns-tz';\n\nimport {\n    state,\n    clocks,\n    removeClock,\n    loadTimezones,\n    computeState,\n} from './stores/app';\n\nloadTimezones();\n\nwatchEffect(() => document.body.setAttribute('theme', state.theme.toLowerCase()));\n\nconst addClockModal = ref();\n\nconst theme = computeState(state => state.theme);\nconst clockType = computeState(state => state.clockType);\n\nconst clockComponent = computed(() => state.clockType === 'analogue'\n    ? AnalogueClock\n    : DigitalClock\n);\n\nfunction getClockDateLabel(time: Date, timezone: string) {\n    return format(time, 'EEE, do MMM yyyy', {\n        timeZone: timezone\n    });\n}\n\nfunction openAddClockModal() {\n    addClockModal.value.open();\n}\n</script>\n\n<style lang=\"scss\">\n\n    .app {\n        padding: 0 2rem;\n    }\n\n    .app__header,\n    .app__footer {\n        padding: 2rem 0;\n        text-align: center;\n    }\n\n    .app__header {\n        border-bottom: 1px solid var(--border__colour);\n    }\n\n    .app__logo {\n        width: 64px;\n    }\n\n    .app__title {\n        margin: 1rem 0;\n        font-family: 'Pacifico', cursive;\n        font-weight: 400;\n        text-align: center;\n    }\n\n    .app__theme {\n        margin-top: 2rem;\n    }\n\n    .app__options {\n        margin: 2rem 0;\n        gap: 1rem;\n    }\n\n    .app__clocks {\n        display: grid;\n        gap: 2rem;\n        grid-template-columns: repeat(auto-fill, minmax(196px, 1fr));\n        grid-auto-rows: minmax(128px, 1fr);\n        justify-items: stretch;\n        align-items: stretch;\n    }\n    \n    .app__clock {\n        position: relative;\n        padding: 1.5rem;\n        text-align: center;\n        background-color: var(--foreground__colour);\n        border-radius: 1.5rem;\n        overflow: hidden;\n\n        &:hover {\n\n            & .app__clock-shade {\n                display: flex;\n                animation: clock-shade var(--animation__timing) var(--animation__easing)\n            }\n        }\n    }\n\n    .app__clock-label {\n        margin-top: 1.5rem;\n    }\n    \n    .app__clock-timezone {\n        font-weight: var(--font__weight--semi-bold);\n    }\n\n    .app__clock-date {\n        margin-top: 0.25rem;\n        font-size: var(--font__size--meta);\n        color: var(--font__colour--meta)\n    }\n\n    .app__clock-shade {\n        display: none;\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        padding: 1.5rem;\n        background-color: var(--background__colour--shade);\n    }\n\n    .clocks-enter-from,\n    .clocks-leave-to {\n        opacity: 0;\n        transform: scale(0);\n    }\n\n    .clocks-enter-active,\n    .clocks-leave-active {\n        transition: opacity var(--animation__timing) var(--animation__easing),\n                    transform var(--animation__timing) var(--animation__easing);\n                }\n                \n    .clocks-move {\n        transition: transform var(--animation__timing) var(--animation__easing);\n    }\n\n    @keyframes clock-shade {\n\n        from {\n            opacity: 0;\n        }\n\n        to {\n            opacity: 1;\n        }\n\n    }\n\n</style>","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/constants.ts\nvar SENDER = \"plugin:devtools\";\nvar DEVTOOLS_ID = \"harlem\";\nvar ALL_STORES_ID = \"$all\";\nvar OPTIONS = {\n  label: \"Harlem\",\n  color: 4244621\n};\n\n// src/index.ts\nimport {\n  EVENTS,\n  INTERNAL\n} from \"@harlem/core\";\nimport {\n  omit\n} from \"@harlem/utilities\";\nimport {\n  setupDevtoolsPlugin\n} from \"@vue/devtools-api\";\nfunction stringComparitor(valueA, valueB) {\n  return valueA.localeCompare(valueB);\n}\nfunction getInspectorTreeHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    const children = Array.from(stores.keys()).sort(stringComparitor).map((name) => ({\n      id: name,\n      label: name\n    }));\n    payload.rootNodes = [\n      {\n        children,\n        id: ALL_STORES_ID,\n        label: \"Stores\"\n      }\n    ];\n  };\n}\nfunction getStoreSnapshot(store) {\n  return Object.entries(store.registrations).reduce((output, [type, registrations]) => {\n    output[type] = Array.from(registrations).sort(([a], [b]) => stringComparitor(a, b)).map(([key, { type: type2, producer }]) => ({\n      key,\n      value: producer(),\n      editable: false,\n      objectType: type2\n    }));\n    return output;\n  }, {\n    state: [\n      {\n        key: store.name,\n        value: omit(store.state, INTERNAL.pattern),\n        editable: true,\n        objectType: \"reactive\"\n      }\n    ]\n  });\n}\nfunction getStoreSnapshots(stores) {\n  return stores.reduce((output, store) => {\n    if (!store) {\n      return output;\n    }\n    const snapshot = getStoreSnapshot(store);\n    return Object.entries(snapshot).reduce((merges, [key, value]) => {\n      merges[key] = (merges[key] || []).concat(value);\n      return merges;\n    }, {});\n  }, {});\n}\nfunction getInspectorStateHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId,\n      nodeId\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    let internalStores = [stores.get(nodeId) || stores.values().next().value];\n    if (nodeId === ALL_STORES_ID) {\n      internalStores = Array.from(stores.values());\n    }\n    if (internalStores.length > 0) {\n      payload.state = getStoreSnapshots(internalStores);\n    }\n  };\n}\nfunction getInspectorEditHook(application, stores) {\n  return (payload) => {\n    const {\n      app,\n      inspectorId,\n      nodeId,\n      path,\n      state,\n      set\n    } = payload;\n    if (app !== application || inspectorId !== DEVTOOLS_ID || stores.size === 0) {\n      return;\n    }\n    const root = path.shift();\n    const storeId = nodeId === ALL_STORES_ID ? root || nodeId : nodeId;\n    const store = stores.get(storeId);\n    if (!store) {\n      return;\n    }\n    store.write(\"plugin:devtools:set\", SENDER, (_state) => set(_state, path, state.value));\n  };\n}\nfunction getMutationHook(api, logType) {\n  return (payload) => {\n    if (!payload) {\n      return;\n    }\n    const {\n      store\n    } = payload;\n    api.sendInspectorState(DEVTOOLS_ID);\n    api.addTimelineEvent({\n      layerId: DEVTOOLS_ID,\n      event: {\n        logType,\n        title: \"Mutation\",\n        subtitle: store,\n        groupId: store,\n        time: Date.now(),\n        data: payload,\n        meta: {\n          store\n        }\n      }\n    });\n  };\n}\nfunction createDevtoolsPlugin(options = OPTIONS) {\n  const {\n    label,\n    color\n  } = __spreadValues(__spreadValues({}, OPTIONS), options);\n  return {\n    name: \"devtools\",\n    install(app, eventEmitter, stores) {\n      const inspectorTreeHook = getInspectorTreeHook(app, stores);\n      const inspectorStateHook = getInspectorStateHook(app, stores);\n      const inspectorEditHook = getInspectorEditHook(app, stores);\n      const descriptor = {\n        app,\n        label,\n        id: DEVTOOLS_ID,\n        logo: \"https://harlemjs.com/assets/images/favicon.png\",\n        homepage: \"https://harlemjs.com\",\n        packageName: \"@harlem/plugin-devtools\"\n      };\n      setupDevtoolsPlugin(descriptor, (api) => {\n        const successMutationHook = getMutationHook(api);\n        const errorMutationHook = getMutationHook(api, \"error\");\n        api.addInspector({\n          label,\n          id: DEVTOOLS_ID,\n          icon: \"source\",\n          treeFilterPlaceholder: \"Search stores\"\n        });\n        api.addTimelineLayer({\n          label,\n          color,\n          id: DEVTOOLS_ID,\n          skipScreenshots: true\n        });\n        api.on.getInspectorTree(inspectorTreeHook);\n        api.on.getInspectorState(inspectorStateHook);\n        api.on.editInspectorState(inspectorEditHook);\n        eventEmitter.on(EVENTS.mutation.success, successMutationHook);\n        eventEmitter.on(EVENTS.mutation.error, errorMutationHook);\n        eventEmitter.on(EVENTS.devtools.update, () => {\n          api.sendInspectorTree(DEVTOOLS_ID);\n          api.sendInspectorState(DEVTOOLS_ID);\n        });\n      });\n    }\n  };\n}\nexport {\n  createDevtoolsPlugin as default\n};\n//# sourceMappingURL=index.js.map\n","import 'flex-layout-attribute';\nimport './assets/styles/index.scss';\n\nimport App from './app.vue';\n\nimport Harlem from '@harlem/core';\n\nimport devtoolsPlugin from '@harlem/plugin-devtools';\n\nimport {\n    createApp,\n} from 'vue';\n\nfunction start() {\n    return createApp(App)\n        .use(Harlem, {\n            plugins: [\n                devtoolsPlugin(),\n            ],\n        })\n        .mount('body');\n}\n\nstart();"],"names":["relList","document","createElement","supports","link","querySelectorAll","MutationObserver","mutations","mutation2","type","node","addedNodes","tagName","rel","observe","childList","subtree","ep","fetchOpts","script","integrity","referrerpolicy","referrerPolicy","crossorigin","credentials","getFetchOpts","href","p","model","computed","get","props","modelValue","set","emit","value","choiceClass","domain","range","domainMin","domainMax","rangeMin","rangeMax","domainLength","rangeLength","clampValue","output","min","max","Math","clamp","hourScale","scale","minSecScale","relativeMinSecScale","hours","minutes","seconds","handStyles","time","getHours","getMinutes","getSeconds","hour","transform","getHourRotation","minute","getMinuteRotation","second","getSecondRotation","labels","format","timeZone","timezone","phase","inheritAttrs","isShowing","ref","open","close","split","pop","replace","GETTERS","MUTATIONS","STATE","version","theme","themes","label","Date","timezones","clockType","clockTypes","clocks","bodyInvokee","finallyInvokee","args","Task","Promise","constructor","executor","controller","AbortController","signal","aborted","Error","listeners","Set","removeListener","listener","delete","removeEventListener","cleanup","size","forEach","_resolve","_reject","resolve","safeRun","reject","callback","this","abortReason","add","addEventListener","abort","reason","input","Object","prototype","toString","call","slice","toLowerCase","CLONE_MAP","default","cloneIdentity","null","undefined","boolean","cloneBasic","number","string","error","date","regexp","clonedRegex","RegExp","source","lastIndex","function","symbol","Symbol","valueOf","array","map","clone","object","key","Map","unref","getType","pattern","test","path","isArray","reduce","branch","__defProp","defineProperty","__defProps2","defineProperties","__getOwnPropDescs2","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","enumerable","configurable","writable","__spreadValues","a","b","prop","event_emitter_default","on","event","handler","push","dispose","off","filter","length","once","payload","handlers","EVENTS","installed","created","destroyed","before","after","success","update","PROVIDERS","read","write","INTERNAL","name","store","stores","plugin","app","install","lockedStores","exclusions","Proxy","target","includes","Reflect","apply","warn","bind","src_default","options","plugins","installPlugin","SENDER","STATE_PROP","ActionAbortError","instanceId","onAccess","traceObjectPath","nodes","getNodes","Array","from","resetNodes","clear","state","getter","mutation","action","isActionRunning","computeState","state2","allowOverwrite","providers","extensions","store2","allowsOverwrite","__spreadProps2","registrations","stack","isSuppressing","scope","effectScope","writeState","reactive","readState","readonly","_a","sender","data","active","localiseHandler","provider","track","run","hasRegistration","group","has","getRegistration","register","producer","unregister","suppress","getter2","mutate","mutator","_b","result","providedState","providedPayload","destroy","stop","getMutationTrigger","eventName","mutationName","concat","onBeforeMutation","onAfterMutation","onMutationSuccess","onMutationError","extendedStore","extension","e","getExtendedStore","createStore","storageKey","storedValue","localStorage","getItem","storedState","JSON","parse","removeItem","getState","_store","actionTasks","runCount","instances","errors","actionName","actions","predicate","payloads","values","some","name2","tasks","task","body","setActionState","registerAction","parallel","autoClearErrors","controller2","onAbort","__async","__this","__arguments","generator","id","complete","removeInstance","fail","DOMException","fulfilled","next","rejected","throw","step","x","done","then","hasActionRun","whenActionIdle","isComplete","isActionRunning2","unwatch","watchEffect","hasActionFailed","getActionErrors","entries","resetActionState","names","keys","abortAction","onBeforeAction","getActionTrigger","onAfterAction","onActionSuccess","onActionError","getTraceObject","accessor","reduceRight","nodeStr","isNaN","parseInt","toPath","parent","fromPath","isNil","value2","useState","setter","prefix","sync","exclude","serialiser","parser","stringify","storage","sessionStorage","storageArea","newValue","assign","omit","setItem","stopStorageSync","startStorageSync","clearStorage","storageExtension","updateTime","addClocks","timezones2","removeClock","tz","flatMap","utc","clocks2","sort","localeCompare","utcToZonedTime","seen","loadTimezones","async","_","baseModule","deps","all","dep","isCss","endsWith","cssSelector","querySelector","as","crossOrigin","head","appendChild","res","rej","setInterval","modal","selection","filteredTimezones","toLocaleLowerCase","isEqual","canComplete","setAttribute","addClockModal","clockComponent","AnalogueClock","DigitalClock","__defProp2","__getOwnPropSymbols2","__hasOwnProp2","__propIsEnum2","__defNormalProp2","__spreadValues2","OPTIONS","color","valueA","valueB","stores2","snapshot","stringComparitor","type2","editable","objectType","getStoreSnapshot","merges","api","logType","sendInspectorState","addTimelineEvent","layerId","title","subtitle","groupId","now","meta","eventEmitter","inspectorTreeHook","application","inspectorId","children","rootNodes","getInspectorTreeHook","inspectorStateHook","nodeId","internalStores","getStoreSnapshots","getInspectorStateHook","inspectorEditHook","root","shift","storeId","_state","getInspectorEditHook","logo","homepage","packageName","successMutationHook","getMutationHook","errorMutationHook","addInspector","icon","treeFilterPlaceholder","addTimelineLayer","skipScreenshots","getInspectorTree","getInspectorState","editInspectorState","sendInspectorTree","createApp","App","use","Harlem","devtoolsPlugin","mount"],"mappings":"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"}